# Filipino Dictionary API Reference

This document provides a comprehensive reference for all endpoints in the Filipino Dictionary API (v2).

## Base URL

All endpoints are prefixed with: `http://127.0.0.1:10000/api/v2/`

## Common Response Format

All API responses follow a standard format:

### Success Response
```json
{
  "data": { /* Response data */ },
  "meta": {
    "request_id": "20250326011748--123",
    "timestamp": "2025-03-26T01:17:48.565610+00:00"
  },
  "status": "success"
}
```

### Error Response
```json
{
  "error": {
    "code": "ERR_404",
    "message": "Word not found",
    "details": { /* Additional error details */ }
  },
  "meta": {
    "request_id": "20250326011828--745",
    "timestamp": "2025-03-26T01:18:28.565610+00:00"
  },
  "status": "error"
}
```

## Endpoints

### Root

**GET /** - API root endpoint with version and feature information

Example response:
```json
{
  "name": "Filipino Dictionary API",
  "version": "2.0.0",
  "status": "operational",
  "timestamp": "2025-03-26T01:17:48.565610+00:00",
  "request_id": "20250326011748--123",
  "features": {
    "baybayin_support": true,
    "etymology_tracking": true,
    "word_relationships": true,
    "multilingual": true
  },
  "endpoints": {
    "root": "/",
    "words": "/api/v2/words",
    "word_details": "/api/v2/words/<word>",
    "search": "/api/v2/search",
    "statistics": "/api/v2/statistics",
    "random": "/api/v2/random",
    "baybayin": "/api/v2/baybayin",
    "baybayin_transliterate": "/api/v2/baybayin/transliterate",
    "word_baybayin": "/api/v2/words/<word>/baybayin",
    "parts_of_speech": "/api/v2/parts-of-speech",
    "related_words": "/api/v2/words/<word>/related",
    "etymology_tree": "/api/v2/words/<word>/etymology-tree",
    "affixes": "/api/v2/affixes",
    "relations": "/api/v2/relations"
  },
  "supported_languages": [
    {"code": "tl", "name": "Tagalog / Filipino"},
    {"code": "ceb", "name": "Cebuano / Bisaya"}
  ]
}
```

### Words

**GET /words** - List all words with pagination

Query parameters:
- `page` (optional): Page number (default: 1)
- `per_page` (optional): Items per page (default: 20)
- `language` (optional): Filter by language code (e.g., "tl", "ceb")

Example: `/api/v2/words?page=2&per_page=10&language=tl`

**GET /words/{word}** - Get details for a specific word

Example: `/api/v2/words/bahay`

### Search

**GET /search** - Search for words

Query parameters:
- `q` (required): Search query
- `mode` (optional): Search mode ("exact", "prefix", "contains", default: "exact")
- `language` (optional): Filter by language code
- `part_of_speech` (optional): Filter by part of speech
- `page` (optional): Page number (default: 1)
- `per_page` (optional): Items per page (default: 20)

Example: `/api/v2/search?q=bahay&mode=contains&language=tl`

### Random Word

**GET /random** - Get a random word

Query parameters:
- `language` (optional): Filter by language code
- `part_of_speech` (optional): Filter by part of speech

Example: `/api/v2/random?language=tl`

### Statistics

**GET /statistics** - Get dictionary statistics

Example response:
```json
{
  "data": {
    "total_words": 25000,
    "total_definitions": 42000,
    "by_language": {
      "tl": 20000,
      "ceb": 5000
    },
    "by_part_of_speech": {
      "noun": 12000,
      "verb": 8000,
      "adjective": 5000
    }
  },
  "meta": {
    "request_id": "20250326011748--123",
    "timestamp": "2025-03-26T01:17:48.565610+00:00"
  },
  "status": "success"
}
```

### Baybayin Support

**GET /baybayin** - List words with Baybayin script

Query parameters:
- `page` (optional): Page number (default: 1)
- `per_page` (optional): Items per page (default: 20)
- `language` (optional): Filter by language code (default: "tl")

Example: `/api/v2/baybayin?page=1&per_page=10`

Example response:
```json
{
  "data": [
    {
      "id": 123,
      "word": "bahay",
      "baybayin": "ᜊᜑᜌ᜔",
      "language": "tl"
    },
    {
      "id": 456,
      "word": "araw",
      "baybayin": "ᜀᜍᜏ᜔",
      "language": "tl"
    }
  ],
  "meta": {
    "total": 5000,
    "page": 1,
    "per_page": 10,
    "request_id": "20250326011748--123",
    "timestamp": "2025-03-26T01:17:48.565610+00:00"
  },
  "status": "success"
}
```

**GET /baybayin/transliterate** - Transliterate text between Latin and Baybayin scripts

Query parameters:
- `text` (required): Text to transliterate
- `to_baybayin` (optional): Boolean flag to indicate direction (default: true)
  - true: Latin to Baybayin
  - false: Baybayin to Latin

Example (Latin to Baybayin): `/api/v2/baybayin/transliterate?text=magandang umaga&to_baybayin=true`

Example response:
```json
{
  "data": {
    "original_text": "magandang umaga",
    "transliterated_text": "ᜋᜄᜇᜂᜋᜄ",
    "direction": "latin_to_baybayin"
  },
  "meta": {
    "request_id": "20250326011748--123",
    "timestamp": "2025-03-26T01:17:48.565610+00:00"
  },
  "status": "success"
}
```

Example (Baybayin to Latin): `/api/v2/baybayin/transliterate?text=ᜋᜄᜇᜂᜋᜄ&to_baybayin=false`

**GET /words/{word}/baybayin** - Get Baybayin form for a specific word

Example: `/api/v2/words/bahay/baybayin`

Example response:
```json
{
  "data": {
    "word": "bahay",
    "baybayin": "ᜊᜑᜌ᜔",
    "normalized_word": "bahay",
    "language": "tl"
  },
  "meta": {
    "request_id": "20250326011748--123",
    "timestamp": "2025-03-26T01:17:48.565610+00:00"
  },
  "status": "success"
}
```

### Word Relationships

**GET /words/{word}/related** - Get related words

Query parameters:
- `relation_type` (optional): Filter by relation type
- `page` (optional): Page number (default: 1)
- `per_page` (optional): Items per page (default: 20)

Example: `/api/v2/words/bahay/related?relation_type=synonym`

**GET /words/{word}/etymology-tree** - Get etymology tree for a word

Example: `/api/v2/words/bahay/etymology-tree`

### Reference Data

**GET /parts-of-speech** - Get parts of speech

**GET /affixes** - Get affixes

**GET /relations** - Get relation types with usage statistics

Query parameters:
- `language` (optional): Filter by language code (default: "tl")
- `type` (optional): Filter by specific relation type

Example: `/api/v2/relations?language=tl`

Example response:
```json
{
  "data": [
    {
      "type": "synonym",
      "description": "Words with the same or similar meaning",
      "usage_count": 15243,
      "from_words_count": 8712,
      "to_words_count": 8615,
      "sample_from": ["maganda", "masaya", "mabilis", "matalino", "mahalaga"],
      "sample_to": ["marikit", "masigla", "mabato", "matalas", "makahulugan"]
    },
    {
      "type": "derived_from",
      "description": "Word formed from another word through derivation",
      "usage_count": 8976,
      "from_words_count": 7102,
      "to_words_count": 4521,
      "sample_from": ["kaibigan", "kasalanan", "panlakad", "manggagawa", "kabataan"],
      "sample_to": ["ibigan", "sala", "lakad", "gawa", "bata"]
    }
    // ... other relation types
  ],
  "meta": {
    "language": "tl",
    "relation_type": null,
    "total": 15,
    "request_id": "20250326123451--745",
    "timestamp": "2025-03-26T12:34:51.565610+00:00"
  },
  "status": "success"
}
```

#### Supported Relation Types

The API supports the following relation types:

##### Basic Semantic Relationships
- `synonym` - Words with the same or similar meaning
- `antonym` - Words with opposite meanings
- `variant` - Alternative forms or spellings of the same word
- `spelling_variant` - Alternative spelling of the same word

##### Hierarchical Relationships
- `hypernym_of` - Word with a broader meaning that includes more specific words
- `hyponym_of` - Word with a more specific meaning included in a broader term
- `meronym_of` - Word that denotes a part of another word's concept
- `holonym_of` - Word that denotes a whole containing the part denoted by another word

##### Derivational Relationships
- `derived_from` - Word formed from another word through derivation
- `root_of` - Base word from which other words are derived

##### Etymology Relationships
- `cognate` - Words sharing the same linguistic origin
- `borrowed_from` - Word borrowed or adopted from another language
- `loaned_to` - Word that has been adopted by another language
- `descendant_of` - Word evolved from an earlier form
- `ancestor_of` - Word from which another word evolved

##### Structural Relationships
- `component_of` - Word that forms part of another word or phrase
- `abbreviation_of` - Shortened form of a word or phrase
- `has_abbreviation` - Word or phrase that has a shortened form
- `initialism_of` - Acronym formed from initial letters of a phrase
- `has_initialism` - Phrase that has an acronym form

##### General Relationships
- `related` - Words with a semantic or etymological connection

## Error Codes

- `ERR_400`: Bad Request - Invalid parameters
- `ERR_404`: Not Found - Requested resource not found
- `ERR_429`: Too Many Requests - Rate limit exceeded
- `ERR_500`: Internal Server Error - Server error

## Rate Limiting

The API implements rate limiting to prevent abuse. Headers include:
- `X-RateLimit-Limit`: Maximum requests per window
- `X-RateLimit-Remaining`: Remaining requests in current window
- `X-RateLimit-Reset`: Seconds until window resets 