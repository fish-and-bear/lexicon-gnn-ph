port 26379
dir /tmp
sentinel monitor mymaster redis 6379 2
sentinel down-after-milliseconds mymaster 5000
sentinel failover-timeout mymaster 60000
sentinel parallel-syncs mymaster 1
sentinel auth-pass mymaster ${REDIS_PASSWORD}

# Fine-tuning
sentinel config-epoch mymaster 0
sentinel leader-epoch mymaster 0

# Security
protected-mode yes
bind 0.0.0.0

# Logging
logfile ""
syslog-enabled yes
syslog-ident sentinel
syslog-facility local0

# Performance
tcp-backlog 511
tcp-keepalive 300

# Advanced configuration
sentinel notification-script mymaster /usr/local/bin/notify.sh
sentinel client-reconfig-script mymaster /usr/local/bin/reconfig.sh

# Persistence
appendonly yes
appendfilename "appendonly.aof"
appendfsync everysec
no-appendfsync-on-rewrite no
auto-aof-rewrite-percentage 100
auto-aof-rewrite-min-size 64mb

# Memory management
maxmemory 256mb
maxmemory-policy allkeys-lru
maxmemory-samples 5

# Slow log
slowlog-log-slower-than 10000
slowlog-max-len 128

# Latency monitoring
latency-monitor-threshold 100

# Security
rename-command FLUSHDB ""
rename-command FLUSHALL ""
rename-command DEBUG ""
rename-command CONFIG ""
rename-command SHUTDOWN ""
rename-command BGREWRITEAOF ""
rename-command BGSAVE ""
rename-command SAVE ""
rename-command SPOP ""
rename-command SREM ""
rename-command RENAME "" 